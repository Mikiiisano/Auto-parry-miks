-- Variables para activar/desactivar el auto-parry
local autoParryEnabled = false
local distanceToParry = 10 -- Distancia mínima para hacer parry (ajustable)

-- Botón para activar/desactivar el auto-parry
local UserInputService = game:GetService("UserInputService")

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.P then -- P para activar/desactivar
        autoParryEnabled = not autoParryEnabled
        print("Auto-Parry " .. (autoParryEnabled and "Activado" or "Desactivado"))
    end
end)

-- Función para detectar la bola y hacer parry
local function checkForBall()
    while true do
        if autoParryEnabled then
            local player = game.Players.LocalPlayer
            local character = player.Character
            if character then
                local ball = game.Workspace:FindFirstChild("Ball") -- Asegúrate que la bola se llame "Ball"
                
                if ball then
                    local ballPosition = ball.Position
                    local playerPosition = character.HumanoidRootPart.Position
                    local distance = (ballPosition - playerPosition).Magnitude

                    if distance <= distanceToParry then
                        -- Ejecuta el parry
                        fireproximityprompt(character:FindFirstChild("ParryPrompt")) -- Asegúrate que el prompt para parry esté bien identificado
                        print("Parry activado!")
                    end
                end
            end
        end
        wait(0.1) -- Revisa cada 0.1 segundos
    end
end

-- Iniciar el auto-parry
spawn(checkForBall)
